// Define our color scheme
const colors = {
    blue: '#acdef8',
    pink: '#facad2',
    white: '#ffffff',
    bhover: '#7ACBF5',
    phover: '#EAACB8',
    whover: '#e1e1e1'
};

// SVG Paths for 46 SC Counties
const counties = [
    { name: 'Occonee', path: 'M49,76 L31,83 L27,90 L22,93 L16,99 L10,104 L6,116 L6,119 L11,123 L17,127 L23,130 L27,133 L31,138 L36,143 L40,146 L43,146 L48,140 L53,134 L55,131 L55,125 L56,122 L55,117 L52,112 L51,99 L51,89 L49,84 L50,79 Z', color: colors.blue},
    { name: 'Pickens', path: 'M50,77 L57,74 L63,72 L65,74 L68,76 L70,76 L78,74 L82,74 L83,81 L85,82 L86,80 L90,86 L93,97 L94,102 L94,104 L80,112 L69,118 L60,126 L56,131 L55,128 L55,125 L56,122 L56,118 L53,114 L51,105 L51,97 L51,90 L49,84 L50,81 Z', color: colors.blue},
    { name: 'Greenville', path: 'M65,73 L73,71 L73,69 L76,66 L83,65 L88,62 L95,61 L100,61 L102,57 L106,56 L107,59 L115,59 L122,59 L120,98 L129,109 L122,125 L120,131 L119,138 L112,145 L106,140 L102,136 L98,130 L96,122 L96,115 L97,108 L94,100 L92,92 L90,86 L88,80 L84,81 L83,79 L81,73 L67,75 Z', color: colors.blue},
    { name: 'Spartanburg', path: 'M122,59 L121,98 L129,108 L134,112 L138,118 L143,122 L148,126 L152,130 L156,132 L159,131 L160,123 L164,109 L166,101 L171,96 L173,93 L172,91 L169,87 L156,58 Z', color: colors.blue},
    { name: 'Cherokee', path: 'M156,58 L167,83 L170,90 L172,91 L172,92 L178,94 L181,96 L187,96 L197,97 L196,77 L204,74 L205,65 L209,60 Z', color: colors.blue},
    { name: 'York', path: 'M198,104 L196,78 L204,74 L204,66 L209,60 L239,64 L242,69 L239,74 L242,76 L251,70 L255,76 L255,82 L258,89 L258,96 L257,102 L256,104 Z', color: colors.blue},
    { name: 'Lancaster', path: 'M256,76 L267,88 L267,104 L291,105 L306,130 L294,135 L293,142 L291,144 L287,144 L283,143 L281,144 L277,142 L272,143 L269,140 L258,150 L256,148 L257,144 L259,141 L258,134 L257,127 L260,117 L259,110 L256,104 L258,101 L259,92 L258,87 L255,81 Z', color: colors.blue},
    { name: 'Chesterfield', path: 'M291,105 L310,137 L314,145 L314,151 L319,158 L331,152 L342,145 L352,144 L356,144 L363,140 L369,130 L369,127 L367,124 L360,119 L356,111 L355,105 Z', color: colors.blue},
    { name: 'Marlboro', path: 'M355,106 L382,106 L404,129 L386,166 L382,166 L381,163 L379,157 L374,152 L373,147 L375,144 L374,143 L371,141 L367,142 L364,140 L368,132 L369,127 L367,124 L361,120 L358,115 Z', color: colors.blue},
    { name: 'Dillon', path: 'M404,130 L443,167 L437,174 L432,170 L428,172 L432,170 L424,172 L418,171 L410,168 L404,168 L399,172 L395,173 L386,167 L393,151 Z', color: colors.blue},
    { name: 'Marion', path: 'M437,174 L437,176 L432,182 L428,189 L426,196 L416,205 L417,212 L422,218 L425,229 L432,241 L429,242 L426,242 L422,239 L418,230 L418,228 L417,225 L413,221 L409,219 L403,213 L398,205 L396,198 L396,192 L395,185 L394,182 L394,177 L395,174 L400,171 L406,168 L412,168 L421,171 L429,172 L433,170 Z', color: colors.pink},
    { name: 'Horry', path: 'M443,166 L494,220 L494,222 L483,228 L469,237 L457,248 L450,258 L443,254 L439,251 L434,243 L427,233 L424,227 L423,218 L419,214 L417,212 L416,205 L423,199 L426,196 L430,187 L437,178 L438,173 L437,178 L423,199 Z', color: colors.pink},
    { name: 'Georgetown', path: 'M449,258 L436,278 L432,286 L431,297 L428,296 L426,293 L421,288 L418,289 L420,293 L427,297 L430,306 L425,312 L423,308 L420,309 L419,310 L409,304 L402,299 L401,298 L397,297 L390,293 L381,289 L381,285 L381,289 L381,285 L386,280 L389,274 L394,268 L403,259 L406,253 L407,247 L410,240 L414,235 L417,230 L421,239 L428,242 L432,242 L437,249 L443,255 Z', color: colors.white},
    { name: 'Charleston', path: 'M403,300 L420,310 L419,314 L413,319 L409,324 L402,327 L399,323 L391,326 L386,333 L386,335 L391,335 L389,341 L380,348 L376,352 L365,358 L360,356 L358,353 L358,350 L358,348 L355,348 L353,353 L358,358 L357,368 L349,370 L346,375 L338,378 L332,381 L325,376 L325,374 L326,368 L324,367 L322,370 L320,373 L320,374 L324,382 L316,388 L309,386 L307,374 L306,366 L303,359 L304,352 L308,344 L317,345 L326,349 L331,347 L329,342 L332,340 L339,339 L338,333 L336,332 L336,328 L342,329 L344,333 L342,329 L345,336 L351,341 L356,348 L358,347 L359,344 L365,339 L371,333 L373,328 L378,320 L383,313 L388,310 L393,310 L396,308 L399,304 Z', color: colors.blue},
    { name: 'Beaufort', path: 'M288,386 L286,386 L287,388 L290,391 L296,393 L299,398 L294,404 L294,406 L301,402 L302,403 L301,410 L287,417 L286,418 L283,414 L284,409 L282,407 L279,411 L269,403 L266,391 L264,390 L262,396 L267,408 L268,415 L279,420 L277,429 L268,435 L265,436 L264,434 L267,429 L267,426 L262,431 L261,432 L259,441 L253,434 L246,423 L245,419 L250,413 L252,412 L254,407 L260,404 L264,401 L262,395 L264,390 L263,385 L263,376 L259,370 L264,364 L272,366 L278,368 L281,375 L288,379 L289,382 Z', color: colors.blue},
    { name: 'Colleton', path: 'M238,323 L247,338 L254,346 L264,364 L278,368 L281,375 L288,379 L288,386 L295,385 L298,389 L305,390 L309,387 L307,373 L303,362 L303,355 L308,344 L306,330 L307,323 L307,321 L301,319 L294,319 L286,319 L277,312 L273,307 L266,305 L259,310 L257,313 L257,318 L254,319 L253,317 L251,316 L250,315 L243,319 Z', color: colors.blue},
    { name: 'Jasper', path: 'M244,358 L216,381 L224,391 L226,397 L227,405 L232,411 L232,417 L230,421 L234,429 L234,435 L241,439 L244,437 L249,442 L253,443 L258,441 L249,429 L245,419 L247,414 L252,411 L255,406 L264,401 L262,395 L263,389 L262,381 L262,374 L259,369 L256,371 L250,371 L251,366 Z', color: colors.blue},
    { name: 'Hampton', path: 'M238,323 L247,340 L253,345 L264,364 L257,371 L252,372 L250,371 L251,368 L251,366 L245,359 L217,380 L210,379 L205,373 L204,367 L202,362 L203,360 L214,353 L218,347 L218,342 L218,340 L221,337 L223,334 Z', color: colors.blue},
    { name: 'Allendale', path: 'M183,315 L191,308 L204,312 L211,314 L219,313 L225,311 L237,323 L223,334 L221,337 L217,341 L218,347 L217,350 L212,354 L202,360 L203,353 L197,344 L193,335 L195,328 L193,323 L186,319 Z', color: colors.blue},
    { name: 'Barnwell', path: 'M167,305 L208,267 L211,269 L213,269 L214,269 L220,272 L223,274 L223,299 L223,306 L226,311 L214,314 L206,313 L193,308 L190,309 L183,315 L179,313 L171,310 Z', color: colors.pink},
    { name: 'Aiken', path: 'M142,262 L145,268 L148,269 L150,272 L149,275 L148,282 L152,288 L158,292 L160,298 L165,301 L167,304 L207,268 L226,247 L214,240 L204,239 L202,238 L201,232 L195,228 L188,218 L179,228 Z', color: colors.white},
    { name: 'Edgefield', path: 'M142,209 L132,212 L128,215 L129,220 L131,224 L130,227 L127,233 L126,236 L128,242 L133,248 L132,253 L133,248 L138,257 L141,263 L179,228 L168,224 L162,222 L157,217 L156,210 L150,209 L143,210 Z', color: colors.white},
    { name: 'McCormick', path: 'M83,201 L93,195 L103,198 L110,196 L114,205 L120,202 L126,207 L131,206 L140,207 L141,209 L130,213 L128,215 L129,220 L130,224 L129,227 L126,233 L126,238 L128,243 L133,248 L132,253 L129,253 L124,249 L119,237 L115,230 L110,225 L102,220 L95,217 L90,211 L87,210 Z', color: colors.pink},
    { name: 'Abbeville', path: 'M83,202 L77,196 L75,189 L70,186 L68,177 L87,165 L100,154 L111,146 L119,154 L111,161 L112,169 L117,174 L119,179 L119,185 L114,192 L110,196 L103,198 L94,195 L92,194 Z', color: colors.pink},
    { name: 'Anderson', path: 'M42,147 L55,132 L67,120 L95,103 L97,109 L95,120 L97,129 L102,136 L111,146 L87,165 L68,178 L66,172 L59,161 L57,153 L53,146 Z', color: colors.pink},
    { name: 'Laurens', path: 'M129,108 L121,126 L120,133 L119,139 L112,145 L119,155 L131,167 L135,167 L141,172 L146,175 L149,179 L153,174 L155,167 L164,160 L181,139 L176,136 L170,136 L159,131 L156,132 L150,128 L146,125 L142,123 L136,116 L134,113 Z', color: colors.blue},
    { name: 'Greenwood', path: 'M110,197 L120,186 L119,176 L112,170 L111,162 L119,154 L131,167 L134,167 L139,171 L147,176 L155,188 L149,200 L143,209 L140,207 L130,206 L126,207 L120,203 L114,205 L111,202 Z', color: colors.pink},
    { name: 'Saluda', path: 'M142,209 L144,210 L151,208 L155,209 L156,212 L157,217 L162,222 L179,227 L187,218 L191,211 L197,196 L191,195 L185,190 L175,183 L163,183 L158,183 L154,192 L151,198 L147,204 Z', color: colors.pink},
    { name: 'Newberry', path: 'M149,179 L155,187 L158,183 L175,183 L182,188 L188,193 L197,196 L204,195 L204,192 L202,188 L203,184 L210,179 L212,175 L209,163 L204,152 L202,149 L201,144 L197,144 L192,149 L189,147 L188,144 L180,139 L171,151 L164,160 L155,167 L153,174 Z', color: colors.pink},
    { name: 'Union', path: 'M197,98 L198,108 L198,112 L197,115 L197,117 L201,123 L202,125 L203,130 L203,136 L201,144 L197,144 L194,147 L192,148 L189,147 L188,145 L177,136 L169,136 L159,131 L161,120 L164,109 L166,102 L171,97 L173,93 L177,94 L180,97 L186,96 Z', color: colors.blue},
    { name: 'Chester', path: 'M198,104 L256,104 L259,110 L259,117 L257,124 L256,127 L257,131 L258,137 L222,135 L203,135 L203,130 L201,122 L198,117 L197,115 L198,110 Z', color: colors.blue},
    { name: 'Fairfield', path: 'M258,137 L203,135 L202,141 L202,145 L203,149 L208,161 L212,172 L212,175 L218,176 L221,179 L225,181 L227,181 L227,178 L236,176 L247,173 L262,171 L266,164 L267,161 L267,156 L260,153 L256,147 L258,142 Z', color: colors.pink},
    { name: 'Kershaw', path: 'M258,150 L268,141 L271,143 L275,142 L279,144 L283,144 L291,144 L292,140 L293,136 L306,130 L313,143 L314,151 L319,158 L311,164 L310,167 L303,171 L301,181 L299,184 L291,190 L286,192 L282,192 L279,193 L273,194 L267,188 L259,181 L262,172 L267,162 L267,156 L262,154 Z', color: colors.pink},
    { name: 'Lee', path: 'M299,184 L294,187 L297,198 L305,194 L311,197 L310,199 L310,205 L314,205 L320,203 L318,209 L316,217 L340,205 L346,205 L351,201 L342,195 L332,185 L332,181 L334,177 L334,173 L330,165 L329,164 L328,159 L327,159 L324,162 L321,162 L319,158 L312,163 L310,166 L303,171 L302,179 Z', color: colors.pink},
    { name: 'Sumter', path: 'M294,189 L297,198 L304,194 L311,197 L310,199 L310,205 L314,205 L320,203 L315,217 L339,206 L345,206 L350,202 L358,207 L327,225 L320,230 L313,232 L309,234 L308,239 L307,240 L304,238 L302,238 L299,242 L294,247 L288,242 L283,236 L287,234 L287,230 L285,226 L283,212 L283,205 L286,200 L284,192 L289,191 Z', color: colors.white},
    { name: 'Darlington', path: 'M319,158 L334,149 L342,145 L348,143 L356,144 L363,140 L366,143 L371,141 L375,142 L375,144 L373,147 L373,150 L378,155 L380,160 L382,166 L380,168 L377,168 L372,173 L366,174 L341,194 L332,185 L332,182 L334,177 L333,169 L329,163 L328,158 L325,159 L323,162 Z', color: colors.pink},
    { name: 'Florence', path: 'M341,194 L367,173 L371,173 L378,168 L380,169 L382,167 L386,166 L394,174 L393,181 L395,186 L396,195 L397,202 L400,209 L406,216 L411,220 L416,224 L417,226 L417,229 L412,228 L405,230 L402,231 L398,231 L383,227 L379,227 L373,225 L369,224 L365,219 L361,217 L357,218 L353,216 L349,211 L358,206 Z', color: colors.pink},
    { name: 'Williamsburg', path: 'M359,218 L365,219 L370,225 L373,225 L379,227 L383,227 L401,232 L411,228 L417,229 L413,236 L408,243 L405,253 L402,260 L392,269 L388,275 L385,281 L381,286 L381,289 L373,286 L369,280 L364,278 L356,269 L350,266 L343,265 L338,265 L348,240 L348,234 L350,230 L355,227 L361,219 Z', color: colors.white},
    { name: 'Berkeley', path: 'M338,266 L349,266 L356,269 L362,277 L364,279 L368,280 L374,287 L382,290 L391,293 L397,297 L401,298 L403,300 L396,308 L388,310 L384,312 L378,320 L373,327 L371,332 L368,336 L361,341 L358,344 L358,347 L356,348 L352,342 L344,335 L341,328 L335,327 L326,319 L316,309 L316,306 L317,304 L315,302 L313,300 L311,295 L311,294 L312,293 L317,293 L320,292 L322,286 L325,273 L331,271 L334,267 Z', color: colors.pink},
    { name: 'Dorchester', path: 'M336,328 L315,308 L316,306 L317,305 L316,302 L313,300 L311,295 L302,294 L297,290 L296,287 L266,304 L272,306 L280,314 L285,318 L293,318 L304,319 L307,320 L308,324 L306,329 L308,344 L315,344 L320,345 L323,348 L327,349 L330,348 L329,342 L334,339 L339,338 L338,334 L335,331 Z', color: colors.pink},
    { name: 'Bamberg', path: 'M223,274 L223,300 L223,306 L226,311 L238,323 L250,315 L253,316 L254,318 L257,317 L257,312 L265,304 L262,302 L260,298 L252,291 L241,284 L236,281 L231,279 Z', color: colors.pink},
    { name: 'Orangeburg', path: 'M209,266 L226,247 L242,240 L250,250 L254,253 L259,253 L266,255 L272,260 L277,265 L279,268 L283,270 L285,269 L286,262 L287,259 L290,258 L295,260 L297,260 L297,258 L301,260 L301,263 L301,266 L307,272 L313,274 L325,273 L324,274 L322,287 L320,291 L316,293 L312,293 L310,294 L304,294 L300,293 L298,292 L296,287 L295,287 L266,304 L262,302 L260,297 L247,288 L236,280 L235,280 L229,277 L223,273 L216,269 Z', color: colors.pink},
    { name: 'Clarendon', path: 'M349,212 L327,224 L320,230 L316,231 L311,232 L309,233 L308,238 L307,239 L303,237 L301,238 L299,242 L294,247 L294,252 L295,254 L297,258 L301,260 L302,261 L301,264 L301,266 L311,274 L327,272 L332,270 L333,268 L338,265 L348,240 L348,234 L351,229 L357,225 L359,218 L354,217 Z', color: colors.white},
    { name: 'Calhoun', path: 'M242,241 L253,234 L251,232 L246,232 L243,233 L242,235 L239,235 L239,233 L242,223 L242,220 L244,217 L247,221 L252,225 L260,229 L268,233 L276,234 L283,236 L293,247 L294,251 L297,257 L297,260 L294,260 L291,258 L287,259 L286,261 L286,263 L286,267 L284,269 L282,269 L278,267 L273,261 L264,254 L259,253 L253,253 L246,247 Z', color: colors.white},
    { name: 'Lexington', path: 'M226,247 L242,240 L252,234 L252,232 L247,232 L244,232 L242,235 L239,235 L239,233 L241,224 L243,217 L241,204 L237,203 L233,197 L226,192 L217,191 L214,187 L214,183 L211,179 L205,182 L202,187 L205,193 L205,195 L198,196 L188,217 L191,222 L194,227 L199,230 L201,233 L202,236 L203,237 L207,238 L215,240 Z', color: colors.white},
    { name: 'Richland', path: 'M212,176 L217,176 L219,179 L226,182 L227,181 L227,178 L233,177 L238,177 L247,174 L263,172 L259,181 L265,187 L272,194 L281,194 L282,193 L284,192 L286,199 L283,204 L283,217 L285,225 L287,230 L286,235 L283,236 L274,233 L269,233 L266,233 L260,229 L253,226 L248,222 L245,218 L244,218 L241,204 L237,202 L233,197 L226,192 L221,191 L216,191 L214,187 L214,184 L210,180 Z', color: colors.white},
];

const map = document.getElementById('map');
const info = document.getElementById('info');
let isMobile = window.innerWidth <= 768;

// OG Color Patterning, now defunct
// function createCountyPath(county, index) {
//     const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
//     path.setAttribute('d', county.path);
//     path.setAttribute('fill', colors.default);
//     path.setAttribute('stroke', '#000000');
//     path.setAttribute('stroke-width', '2');
//     path.setAttribute('role', 'button');
//     path.setAttribute('aria-label', county.name);
//     path.setAttribute('tabindex', '0');

//     if (!isMobile) {
//         path.addEventListener('mouseenter', () => {
//             const colorIndex = (index % 2) + 1;
//             path.setAttribute('fill', colors[`hover${colorIndex}`]);
//             info.textContent = `Hovering over: ${county.name}`;
//         });

//         path.addEventListener('mouseleave', () => {
//             path.setAttribute('fill', colors.default);
//             info.textContent = 'Hover over a county';
//         });
//     }

//     return path;
// }

function createCountyPath(county, index) {
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', county.path);
    const fillColor = county.color; // assume county.color holds the manually assigned color
    path.setAttribute('fill', fillColor);
    path.setAttribute('stroke', '#000000');
    path.setAttribute('stroke-width', '2');
    path.setAttribute('role', 'button');
    path.setAttribute('aria-label', county.name);
    path.setAttribute('tabindex', '0');

    if (!isMobile) {
        path.addEventListener('mouseenter', () => {
            const hoverColor = getHoverColor(fillColor);
            path.setAttribute('fill', hoverColor);
            info.textContent = `Hovering over: ${county.name}`;
        });

        path.addEventListener('mouseleave', () => {
            path.setAttribute('fill', fillColor);
            info.textContent = 'Hover over a county';
        });
    }

    return path;
}

// function to determine hover color
function getHoverColor(color) {
    const colorMap = {
        [colors.blue]: colors.bhover,
        [colors.pink]: colors.phover,
        [colors.white]: colors.whover,
    };
    return colorMap[color] || color;
}


function renderMap() {
    map.innerHTML = '';
    counties.forEach((county, index) => {
        const path = createCountyPath(county, index);
        map.appendChild(path);
    });
}

function checkMobile() {
    isMobile = window.innerWidth <= 768;
    renderMap();
}

window.addEventListener('resize', checkMobile);
renderMap();

// Log to console to show the script has run
console.log('South Carolina map initialized');